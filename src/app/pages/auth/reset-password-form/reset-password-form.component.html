<div class="reset-password-form-container">
  <div class="reset-password-form-content">
    <h2 class="text-2xl font-bold">{{ 'auth.resetPassword' | translate }}</h2>
    <p class="text-sm text-gray-600">{{ 'auth.resetPasswordDescription' | translate }}</p>

    <form id="reset-password-form" [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()">
      <ion-item>
        <ion-label position="stacked">{{ 'auth.email' | translate }}</ion-label>
        <ion-input
          id="reset-password-email"
          type="email"
          formControlName="email"
          [attr.aria-describedby]="emailErrorKey ? 'reset-password-email-error' : null"
          [attr.aria-invalid]="resetPasswordForm.get('email')?.invalid && resetPasswordForm.get('email')?.touched"
          [attr.aria-required]="true"
        ></ion-input>
      </ion-item>

      <jym-form-error
        [errorKey]="emailErrorKey"
        errorId="reset-password-email-error"
        ariaLive="polite"
        cssClass="text-sm"
      ></jym-form-error>

      <jym-form-error
        [errorKey]="errorMessage()"
        errorId="reset-password-form-error"
        ariaLive="assertive"
        cssClass="text-sm"
      ></jym-form-error>

      @if (successMessage()) {
        <div class="success-message" role="alert" aria-live="polite">
          <p class="text-sm text-green-600">{{ successMessage()! | translate }}</p>
        </div>
      }
    </form>
  </div>

  <div class="reset-password-form-footer">
    <jym-button
      mode="primary"
      type="submit"
      class="w-1/2"
      [disabled]="resetPasswordForm.invalid || isLoading()"
      [form]="'reset-password-form'"
      [icon]="isLoading() ? undefined : 'chevron-forward-outline'"
      [isLoading]="isLoading()"
      (click)="onSubmit()"
    >{{ 'auth.reset' | translate }}</jym-button>
  </div>
</div>

